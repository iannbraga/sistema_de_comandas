<% # app/views/pedidos/_form.html.erb %>
<%= form_with(model: pedido, local: true) do |f| %>
  <div class="row">
    <div class="col-12 p-2">
      <%= f.label :comanda_id, "Comanda", class: "form-label" %>
      <%= f.number_field :comanda_id, class: "form-control", style: "width: 80px" %>
    </div>
    <div class="col-12 p-2">
      <h3>Itens</h3>
    </div>
    <div class="col-9 p-2">
      <div id="itens">
        <%= f.fields_for :itens do |item| %>
          <%= render "item_fields", f: item %>
        <% end %>
      </div>
      <div class="links">
        <%= link_to_add_association f, :itens, class: "btn btn-primary" do %>
          Add
          <i class="bi bi-plus"></i>
        <% end %>
      </div>
    </div>
    <div class="col-12 p-2">
      <%= f.label :total, "Total", class: "form-label" %>
      <%= f.number_field :total, value: 0, step: 0.01, class: "form-control w-50 total-pedido" %>
    </div>
    <div class="col-6 p-2 d-flex justify-content-center">
      <%= f.submit "#{ request.path == new_pedido_path ? 'Criar' : 'Salvar' }", class: "btn btn-outline-dark m-2 w-100" %>
      <% #= link_to "Cancelar", pedidos_path, class: "btn btn-danger m-2 w-100" %>
    </div>
  </div>
<% end %>

